<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rojo's page</title>
  <!-- Import Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <!-- Link to external stylesheet -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Navbar -->
  <nav>
    <ul>
  <li><a href="../index.html">Home</a></li>
  <li><a href="../travel.html">Travel</a></li>
  <li><a href="../misc.html">Misc</a></li>
    </ul>
  </nav>
  <h1>Japan 2025</h1>
  <p>Our plan this trip was to explore Hokkaido. We will fly into Tokyo and stay a few nights, then fly into Hakodate (Hokkaido) 
    Though we land in Tokyo and this is Bella's first time in Japan,
    we will try to explore Tokyo beginning and end of the trip.
  </p>

  <img class="img-large" src="../assets/japan2025/itinerary.png" alt="Hokkaido Itinerary">

  <h2>Trip photos by day</h2>

  <details class="day" id="jp-day-1">
    <summary>Day 1 — Arrival & Sapporo</summary>
    <p>Landed in Sapporo and wandered around the city.</p>
  <img class="img-large lightbox-trigger" src="../assets/japan2025/thumbnails/hotelselfiethumbnail.webp" data-src="https://i.ibb.co/S7ByzPH5/DSCF0519.jpg" alt="Hotel selfie" loading="lazy">
  </details>

  <details class="day" id="jp-day-2">
    <summary>Day 2 — Nature & Hot Springs</summary>
    <p>Visited a hot spring and some scenic places.</p>
    <div class="img-row">
  <img class="img-small lightbox-trigger" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" data-src="../assets/japan2025/thumbnails/hotelselfiethumbnail.webp" alt="Scenic view" loading="lazy">
  <img class="img-small lightbox-trigger" src="../assets/japan2025/thumbnails/hotelselfiethumbnail.webp" data-src="https://i.ibb.co/XYZ/japan-small2.jpg" alt="Hot spring" loading="lazy">
    </div>
  </details>


  <!-- Lightbox markup -->
  <div id="lightbox" aria-hidden="true">
    <div id="lightbox-backdrop"></div>
    <div id="lightbox-inner">
      <img id="lightbox-img" src="" alt="">
    </div>
    <button id="lightbox-close" aria-label="Close">✕</button>
  </div>

  <script>
    (function(){
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightbox-img');
      const lbClose = document.getElementById('lightbox-close');
      const backdrop = document.getElementById('lightbox-backdrop');

      function open(src, alt){
        lbImg.dataset.zoomed = 'false';
        lbImg.style.width = '';
        lbImg.style.height = '';
        lbImg.src = src;
        lbImg.alt = alt || '';
        lb.style.display = 'flex';
        document.body.style.overflow = 'hidden';
      }
      function close(){
        lb.style.display = 'none';
        lbImg.src = '';
        lbImg.dataset.zoomed = 'false';
        lbImg.style.width = '';
        lbImg.style.height = '';
        document.body.style.overflow = '';
      }

      // Delegated lightbox: works for images loaded later
      document.addEventListener('click', function(e){
        const t = e.target.closest && e.target.closest('.lightbox-trigger');
        if(!t) return;
        // ensure image is loaded (in case data-src still present)
        if(t.dataset && t.dataset.src && (!t.src || t.src.startsWith('data:image/gif'))){
          t.src = t.dataset.src;
          delete t.dataset.src;
        }
        open(t.src, t.alt);
      });

      // Lazy-load images inside a day when the <details> is opened
      const days = document.querySelectorAll('details.day');
      days.forEach(day => {
        day.addEventListener('toggle', () => {
          if(!day.open) return; // only when opened
          const imgs = day.querySelectorAll('img[data-src]');
          imgs.forEach(img => {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
          });
        });
      });

      lbClose.addEventListener('click', function(){
        // reset zoom when closing
        document.getElementById('lightbox-inner').classList.remove('zoomed');
        close();
      });
      backdrop.addEventListener('click', function(){ document.getElementById('lightbox-inner').classList.remove('zoomed'); close(); });
      lbImg.addEventListener('click', function(){
        const inner = document.getElementById('lightbox-inner');
        inner.classList.toggle('zoomed');
      });
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
    })();
  </script>
  <script>
    // Navbar shrink on scroll
    (function(){
      const nav = document.querySelector('nav');
      function onScroll(){
        if(window.scrollY > 60) nav.classList.add('nav-shrink');
        else nav.classList.remove('nav-shrink');
      }
      window.addEventListener('scroll', onScroll, {passive:true});
      onScroll();
    })();
  </script>
</body>
</html>
